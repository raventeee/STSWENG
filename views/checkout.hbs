<!-- NAVBAR START -->
{{>navbar user}}

{{!-- SEARCH MODAL --}}
{{> searchmodal}}

{{!-- LOGIN MODAL --}}
{{>login}}

{{!-- REGISTER MODAL --}}
{{>register}}

{{!-- CART SUCCESS MODAL --}}
{{> cart_success}}
    
    <div class="container">

      <div class="row">
        <div class="col-md-6 order-md-1">
          <h4 class="mb-3 mt-5">Contact information</h4>
          <form class="needs-validation" method="GET" action="/confirm_checkout">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="first_name">First name</label>
                <input type="text" class="form-control" id="first_name" name="first_name" placeholder="Juan" required="">
                <div class="invalid-feedback">
                  Valid first name is required.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="last_name">Last name</label>
                <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Dela Cruz" required="">
                <div class="invalid-feedback">
                  Valid last name is required.
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="email">Email <span class="text-muted"></span></label>
              <input type="email" class="form-control" id="email" name="email" placeholder="juandelacruz@example.com" required=""> 
              <div class="invalid-feedback">
                Please enter a valid email address for shipping updates.
              </div>
            </div>
            <br>
            <br>
            <h4 class="mb-3">Billing address</h4>
            <div class="mb-3">
              <label for="address">Address</label>
              <input type="text" class="form-control" id="address" name="address" placeholder="1234 Example Street" required="">
              <div class="invalid-feedback">
                Please enter your shipping address.
              </div>
            </div>

            <div class="mb-3">
              <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label>
              <input type="text" class="form-control" id="address2" name="address2" placeholder="Apartment, suite, etc.">
            </div>

            <div class="row">
              <div class="col-md-5 mb-3">
                <label for="country">Country</label>
                <div class="mb-3">
                  <input type="text" class="form-control" id="country" name="country" placeholder="Philippines" value="Philippines" readonly>
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label for="state">Region</label>
                <input type="text" class="form-control" id="region" name="region" placeholder="Metro Manila" required="">
              </div>
              <div class="col-md-3 mb-3">
                <label for="zip">Zip</label>
                <input type="text" class="form-control" id="zip" name="zip" placeholder="" required="">
                <div class="invalid-feedback">
                  Zip code required.
                </div>
              </div>
            </div>
            <hr class="mb-4">

            <h4 class="mb-3">Payment</h4>

            <div class="d-block my-3">
              <div class="custom-control custom-radio">
                <input id="gcash" name="gcash" type="radio" class="custom-control-input" checked="">
                <label class="custom-control-label" for="gcash">GCash</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="bank_transfer" name="bank_transfer" type="radio" class="custom-control-input">
                <label class="custom-control-label" for="bank_transfer">Bank Transfer</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="paypal" name="paypal" type="radio" class="custom-control-input">
                <label class="custom-control-label" for="paypal">Paypal</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="paymaya" name="paymaya" type="radio" class="custom-control-input">
                <label class="custom-control-label" for="paymaya">Paymaya</label>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="name_on_account">Name on account</label>
                <input type="text" class="form-control" id="name_on_account" name="name_on_account" placeholder="" required="">
                <small class="text-muted">Full name as displayed on account</small>
                <div class="invalid-feedback">
                  Name on card is required
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="account_number_email_mob">Account number / Email / Mobile number</label>
                <input type="text" class="form-control" id="account_number_email_mob" name="account_number_email_mob" placeholder="" required="">
                <div class="invalid-feedback">
                  Account number is required
                </div>
              </div>
            </div>
            <input type="text" value="{{user.email}}" name="current_email" hidden/>
            <button id="confirm_checkout" class="bg-danger btn btn-primary btn-lg btn-block" type="submit">Confirm</button>
          </form>
        </div>

        
        <!-- Cart -->
        <div class="col-md-6 mt-5">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Cart</h5>
                </div>

                <div class="card-body">
                    {{!-- 
                        display each cart product from database
                        cartProducts -> array of objects each containing a product with attributes (sample):
                            productName: 'Call of Duty: Black Ops Cold War',
                            productImages: '/assets/cod_black_ops_cold_war.jpg',
                            productCategory: 'Game',
                            productPrice: 1500,
                            productStock: 10,
                            productDesc: 'Call of Duty: Black Ops Cold War is a 2020 first-person video game published by Activision',
                            productBrand: 'Activision',
                            productId: 'P000000',
                            qty: 39
                    --}}
                    {{#each cartProducts}}
                        {{> cart_single_item this}}
                    {{/each}}
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header py-3">
                    <h5 class="mb-0">Summary</h5>
                </div>

                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li
                            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                            <p>Number of items</p>
                            <p class="fw-bold" id="number-of-items">2 items</p>
                        </li>

                        <li
                            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                            <p>Total Amount </p>
                            <p class="fw-bold" id="total-amount">PHP 3000</p>
                        </li>
                    </ul>
                    <button id="save_cart" type="button" class="btn btn-danger btn-lg btn-block">Save Cart</button>
                    <p id="edit_warning" style="color: red;font-size: 15pt;"></p>
                </div>
        </div>
        <!-- Cart -->
      </div>
    </div>
  </div>

  <div class="modal fade" id="cart_saved">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <div class="modal-body">
        <h5 class="modal-title"> Cart saved successfully! </h5>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="cart_not_saved">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <div class="modal-body">
        <h5 class="modal-title"> Cart save error, please try again! </h5>
      </div>
    </div>
  </div>
</div>


    

{{>footer}}